<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CyberCyber Labs</title>
    <style>
        .prompt input,body{color:#0f0;font-family:'Courier New',Courier,monospace}.prompt,body{display:flex}.command,body,ul{margin:0}li,ul{list-style-type:none}body{background-color:#000;height:95vh;flex-direction:column;justify-content:flex-end;padding:10px}.terminal{width:100%;box-sizing:border-box}.command,.prompt input,.prompt span,.response{color:#0f0}a{color:#0f0;text-decoration:none}a:hover{text-decoration:underline}.underlined{text-decoration:underline;}.logo{color:#0f0;font-family:'Courier New',Courier,monospace;font-size:0.7em;line-height:1;white-space:pre;overflow-x:auto;margin:10px 0;}.prompt{margin:20px 0 0;align-items:center}.prompt input{background:0 0;border:none;font-size:1em;flex:1;outline:0}.terminal-body{overflow-y:auto;flex:1;display:flex;flex-direction:column;justify-content:flex-end}ul{padding-left:20}
    </style>
</head>
<body>
    <div class="terminal">
        <div class="terminal-body" id="terminalBody">
            <p class="command">Welcome to CyberCyber Labs</p>
            <pre class="logo">
  ░██████             ░██                              ░██████             ░██                            ░██                    ░██                   
 ░██   ░██            ░██                             ░██   ░██            ░██                            ░██                    ░██                   
░██        ░██    ░██ ░████████   ░███████  ░██░████ ░██        ░██    ░██ ░████████   ░███████  ░██░████ ░██          ░██████   ░████████   ░███████  
░██        ░██    ░██ ░██    ░██ ░██    ░██ ░███     ░██        ░██    ░██ ░██    ░██ ░██    ░██ ░███     ░██               ░██  ░██    ░██ ░██        
░██        ░██    ░██ ░██    ░██ ░█████████ ░██      ░██        ░██    ░██ ░██    ░██ ░█████████ ░██      ░██          ░███████  ░██    ░██  ░███████  
 ░██   ░██ ░██   ░███ ░███   ░██ ░██        ░██       ░██   ░██ ░██   ░███ ░███   ░██ ░██        ░██      ░██         ░██   ░██  ░███   ░██        ░██ 
  ░██████   ░█████░██ ░██░█████   ░███████  ░██        ░██████   ░█████░██ ░██░█████   ░███████  ░██      ░██████████  ░█████░██ ░██░█████   ░███████  
                  ░██                                                  ░██                                                                             
            ░███████                                             ░███████                                                                              
                                                                                                                                                                   </pre>
            <p class="command">Your Friendly Neighborhood Cyber Security Researchers</p>
            <p class="command"><br/>Contact us: <a href="mailto:contact@cybercyberlabs.com" class="underlined">contact@cybercyberlabs.com</a></p>
            <p class="command"><br/>Check out our podcast at <a href="https://cybercyber.co.il/" target="_blank" class="underlined">cybercyber.co.il</a>.</p>
            <p class="command"><br/>Recent work:
                <ul id="workList">
                </ul>
            </p>
            <p class="command">Tools:
                <ul id="toolsList">
                </ul>
            </p>
            <p class="command"><br/>Type "help" for options</p>
        </div>
        <div class="prompt">
            <span>user@cybercyberlabs.com:~$ </span>
            <input type="text" id="userInput" autofocus onkeydown="if(event.key === 'Enter') handleCommand()">
        </div>
    </div>

    <script>
    // Work content array - shared between initial page load and work command
    const workContent = [
        '<a href="reports/Salted_Leeches.pdf" target="_blank" class="underlined">April 2025: Salted Leeches - An investigation into a Chinese online scam ring infrastructure</a>',
        '<a href="reports/Shiny_Nemesis.pdf" target="_blank" class="underlined">December 2024: Shiny Hunters - Mass scanning effort targeting AWS customers</a>'
    ];

    // Who content array - shared between command and future use
    const whoContent = [
        'Noam Rotem - Building systems by day, breaking them by night (pastries optional).',
        'Ran Locar - Data scientist',
        'Ran Bar-Zik - Senior Software architect at CyberArk, Journalist at TheMarker, lecturer at Ono Academic College and Haifa University, Blogger at internet-israel.com.'
    ];

    // Help content array - structured command information
    const helpContent = [
        { command: 'about', description: 'Information about us' },
        { command: 'contact', description: 'How to get in touch' },
        { command: 'work', description: 'Display recent work' },
        { command: 'who', description: 'Meet the team' },
        { command: 'tools', description: 'Our security tools' },
                { command: 'clear', description: 'Clear the terminal' },
        { command: 'help', description: 'Display this help message' }
    ];

    // Tools content array - shared between initial page load and tools command
    const toolsContent = [
        {
            name: 'FerretWatch',
            url: 'https://addons.mozilla.org/addon/ferretwatch/',
            description: 'a firefox extension that notifies you when you browse a page with exposed credentials or an open bucket'
        }
    ];

    // Generate work HTML from array
    function generateWorkHTML() {
        return '<ul>' + workContent.map(item => `<li>${item}</li>`).join('') + '</ul>';
    }

    // Generate who HTML from array
    function generateWhoHTML() {
        return '<ul>' + whoContent.map(item => `<li>${item}</li>`).join('') + '</ul>';
    }

    // Generate help HTML from array
    function generateHelpHTML() {
        return 'Available commands:<ul>' + helpContent.map(item => 
            `<li>${item.command}: <ul><li>${item.description}</li></ul>`
        ).join('') + '</ul>';
    }

    // Generate tools HTML from array
    function generateToolsHTML() {
        return '<ul>' + toolsContent.map(item => 
            `<li><a href="${item.url}" target="_blank" class="underlined">${item.name}</a> - ${item.description}</li>`
        ).join('') + '</ul>';
    }

    // Generate ls-style command listing
    function generateLsHTML(args = []) {
        const currentDate = new Date().toLocaleDateString('en-US', { 
            month: 'short', 
            day: '2-digit',
            hour: '2-digit',
            minute: '2-digit',
            hour12: false
        });
        
        // Check for long format (-l) flag
        const longFormat = args.some(arg => arg.includes('l'));
        // Check for all files (-a) flag  
        const showAll = args.some(arg => arg.includes('a'));
        
        let commands = helpContent.map(item => item.command);
        
        // Add hidden files if -a flag is used
        if (showAll) {
            commands = ['.', '..', '.bashrc', '.profile', ...commands];
        }
        
        if (longFormat) {
            return commands.map(cmd => {
                const isHidden = cmd.startsWith('.');
                const isExecutable = cmd === 'clear';
                const permissions = isHidden ? 'drwxr-xr-x' : (isExecutable ? '-rwxr-xr-x' : '-rw-r--r--');
                const size = Math.floor(Math.random() * 2048) + 256;
                return `${permissions} 1 user cybercyberlabs ${size.toString().padStart(4)} ${currentDate} ${cmd}`;
            }).join('<br>');
        } else {
            // Simple format - just command names in columns
            return commands.join('&nbsp;&nbsp;&nbsp;&nbsp;');
        }
    }

    function xorEncryptDecrypt(input, key) {
        let output = '';
        for (let i = 0; i < input.length; i++) {
            output += String.fromCharCode(input.charCodeAt(i) ^ key.charCodeAt(i % key.length));
        }
        return output;
    }

function base64Encode(input) {
    return btoa(input);
}

function base64Decode(input) {
    return atob(input);
}

function handleCommand() {
    const input = document.getElementById('userInput').value.trim();
    const terminalBody = document.getElementById('terminalBody');

    const commands = {
        "about": "We are a team of dedicated cybersecurity professionals with a passion for protecting our digital world.",
        "cybercyber": "CyberCyber to you too!",
        "contact": 'Contact us at <a href="mailto:contact@cybercyberlabs.com">contact@cybercyberlabs.com</a>',
        "help": generateHelpHTML(),
        "podcast": 'Check out our podcast at <a href="https://cybercyber.co.il/" target="_blank">cybercyber.co.il</a>.',
        "work": generateWorkHTML(),
        "who": generateWhoHTML(),
        "whoami": 'You are the ever-changing awareness experiencing itself through the story you call "me."',
        "tools": generateToolsHTML(),
        "clear": () => { 
            document.getElementById('userInput').value = ' ';
            location.reload(); 
        }
    };

    const key = "cybercyberlabs :heart: burekas";

    const encryptedHackCommand = 'CxgBDg==';
    const encryptedHackResponse = 'OhYXQgAGWQNFERkTCxxVSUgKDxdYGkEQEBxCH0EKDAxdRTEMFxYEERhBFwAAUw5FGB0BGkYHEB5FEg4GRAsHRQcTWRYKUgUVTA==';

    const decodedHackCommand = xorEncryptDecrypt(base64Decode(encryptedHackCommand), key);
    const decodedHackResponse = xorEncryptDecrypt(base64Decode(encryptedHackResponse), key);

    if (input) {
        const newCommand = document.createElement('p');
        newCommand.className = 'command';
        newCommand.textContent = `user@cybercyberlabs.com:~$ ${input}`;
        terminalBody.appendChild(newCommand);

        const newResponse = document.createElement('p');
        newResponse.className = 'response';

        // Parse command and arguments
        const inputParts = input.toLowerCase().split(' ');
        let command = inputParts[0];
        let args = inputParts.slice(1);
        
        // Handle "cat" prefix - if first word is "cat", use the second word as the actual command
        if (command === 'cat' && args.length > 0) {
            command = args[0];
            args = args.slice(1);
        }

        // Handle ls command with arguments
        if (command === 'ls') {
            newResponse.innerHTML = generateLsHTML(args);
        } else if (commands[command]) {
            if (typeof commands[command] === 'function') {
                commands[command]();
                return;
            } else {
                newResponse.innerHTML = commands[command];
            }
        } else if (input.toLowerCase() === decodedHackCommand) {
            newResponse.innerHTML = decodedHackResponse;
        } else {
            newResponse.innerHTML = 'Command not recognized. For inquiries, please contact us at <a href="mailto:contact@cybercyberlabs.com">contact@cybercyberlabs.com</a>';
        }

        terminalBody.appendChild(newResponse);
        terminalBody.scrollTop = terminalBody.scrollHeight;
    }

    document.getElementById('userInput').value = '';
}

window.onclick = () => {document.getElementById('userInput').focus()}

// Populate work and tools lists on page load
document.addEventListener('DOMContentLoaded', function() {
    const workList = document.getElementById('workList');
    workContent.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = item;
        workList.appendChild(li);
    });
    
    const toolsList = document.getElementById('toolsList');
    toolsContent.forEach(item => {
        const li = document.createElement('li');
        li.innerHTML = `<a href="${item.url}" target="_blank" class="underlined">${item.name}</a> - ${item.description}`;
        toolsList.appendChild(li);
    });
});


    </script>
</body>
</html>

